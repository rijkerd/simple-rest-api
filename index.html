<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Socket.io</title>
</head>

<body>
    <h1>Express and socket.io</h1>
    <div id="news-list"></div>
    <!-- <script src="static/socket.io/node_modules/socket.io-client/socket.io.js"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/3.1.0/socket.io.js"
        integrity="sha512-+l9L4lMTFNy3dEglQpprf7jQBhQsQ3/WvOnjaN/+/L4i0jOstgScV0q2TjfvRF4V+ZePMDuZYIQtg5T4MKr+MQ=="
        crossorigin="anonymous"></script>
    <script>
        var socket = io('http://localhost:3000');

        socket.on('news', function (data) {
            var div = document.getElementById("news-list");
            console.log("Rendering news : ", data);

            for (var i = 0; i < data.length; i++) {
                var newsItem = data[i];
                div.innerHTML += "<h3>" + newsItem.title + ' <small>' + newsItem.date + "</small></h3><br>";
            }

            socket.emit('my other event', { my: 'data' });
        });
    </script>
</body>

</html>